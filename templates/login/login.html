{% extends "base.html" %}{% load static %}
{% block title %}login page{% endblock %}
{% block innerstyle %}
    <style>


    </style>
{% endblock %}


{% block header %}
{% endblock %}
{% block content %}
    <div class="login-page">
        <div class="login-wrap">
            <div class="login-html">
                     <input id="tab-1" type="radio" name="tab" class="sign-in"
                    {% if signin %}
                        checked
                    {% endif %}
            ><label for="tab-1" class="tab">ورود</label><input id="tab-2" type="radio" name="tab" class="sign-up"
                    {% if signup %}
                        checked
                    {% endif %}
            ><label for="tab-2" class="tab">ثبت نام</label>
            <div class="login-form">
                <form class="sign-in-htm" action="{%url 'user:signin'%}" method="POST" >
                    {% csrf_token %}
                    {% for error in signin_form.non_field_errors %}
                        <div class="alert alert-danger">
                            <p style="color: red">{{ error }}</p>
                        </div>
                    {% endfor %}
                    {% for field in signin_form %}
                        <div class="group">
                            {{ field.label_tag }}<br>
                            {{ field }}

                        </div>
                        {% if field.help_text %}
                            <small style="color: grey">{{ field.help_text }}</small>
                        {% endif %}
                        {% for error in field.errors %}
                            <p style="color: red">{{ error }}</p>
                        {% endfor %}
                    {% endfor %}
                        <div class="group remind-me">
                            <input id="check" type="checkbox" class="check" checked name="check">
                            <label for="check"><span class="icon"></span>
                                <span class="remind-me__text">مرا به خاطر بسپر</span>

                            </label>
                        </div>
                        <div class="group">
                            <input type="submit" class="button input input--transparent input--bold" value="ورود">
                        </div>
                        <div class="hr"></div>
                        <div class="foot-lnk forgot-password">
                            <a href="#" data-bs-toggle="modal" data-bs-target="#exampleModal">فراموشی رمز عبور</a>
                        </div>
                    </form>
                    <form class="sign-up-htm" action="{% url 'user:signup' %}" method="POST">
                        {% csrf_token %}
                        {% for error in signup_form.non_field_errors %}
                            <div class="alert alert-danger">
                                <p style="color: red">{{ error }}</p>
                            </div>
                        {% endfor %}
                        {% for field in signup_form %}
                            <div class="group">
                                {{ field.label_tag }}<br>
                                {{ field }}
                            </div>
                            {% if field.help_text %}
                                <small style="color: grey">{{ field.help_text }}</small>
                            {% endif %}
                            {% for error in field.errors %}
                                <p style="color: red">{{ error }}</p>
                            {% endfor %}
                        {% endfor %}
                        <div class="group sign-up-button">
                            <input type="submit" class="button input input--transparent input--bold" value="ثبت نام">
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- sidebar -->


    <!-- Modal -->


    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"
         {% if forgot %}
         style ="display:block;opacity:1"
         {% endif %}
    >
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form action="{% url  'user:password_reset' %}" method="POST">
                        {% csrf_token %}
                        {% for error in forgot_form.non_field_errors %}
                        <div class="alert alert-danger">
                            <p style="color: red">{{ error }}</p>
                        </div>
                        {% endfor %}

                        {% for field in forgot_form %}
                            <div class="group d-flex flex-column  ">
                                {{ field.label_tag }}<br>
                                {{ field }}
                            </div>
                            {% if field.help_text %}
                                <small style="color: grey">{{ field.help_text }}</small>
                            {% endif %}
                            {% for error in field.errors %}
                                <p style="color: red">{{ error }}</p>
                            {% endfor %}
                        {% endfor %}
                        <div class="group text-center sign-up-button">
                            <input type="submit" class="button input input--transparent input--bold" value="ارسال">
                        </div>

                    </form>
                </div>

            </div>
        </div>
    </div>






{% endblock %}
{% block footer %}
{% endblock %}
